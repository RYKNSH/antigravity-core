# 穴③④ ユースケース詳細（Gap Analysis補足）

**日時**: 2026-02-24T11:34:00+09:00
**位置づけ**: gap_analysis.md の補足。穴③マルチユーザーコンフリクトと穴④コールドスタートの具体的ユースケース。

---

## 穴③ マルチユーザーコンフリクト — 具体的ユースケース

```
ユーザーA（遅いネットワーク環境）
→ Notion APIでよく60秒タイムアウト
→ brain_log: "timeout=10sだと失敗する → 60sが正解"
→ safe-commands.md を修正してpush

ユーザーB（速い環境）
→ 同じ週に "SSHは10秒超えたらハング確定"
→ safe-commands.md に timeout=10s を追記してpush

サーバーサイドCI
→ 両方のPRが来る。Chaos層テストでは「両方pass」
→ どちらをmainに入れるか決定できない
→ マージコンフリクトか、後勝ちで片方が消える
```

**本質**: 環境依存の値（timeout/retry数）が競合したとき、CIテストで正解を判別できない。

**現時点での影響**: ユーザーが現在1人のため発生しない。OSS化・複数人参加時に初めて問題化。

---

## 穴④ コールドスタート — 具体的ユースケース

```
GitHub Actions CIを初めてセットアップした日

「CI: Chaos層テスト + 単体テスト を通してからmerge」
と設計したが——

テストファイルが存在しない。
chaos_monkey.jsは「壊す」機能だけあって
「壊れたら失敗」という期待値が未定義。

AIが自動生成しようとすると
「checkout.mdのcorrect behaviorとは何か」
を定義した文書がないため、
通過すべきケースを推測で書く
→ 推測テストは実践ハングを捉えられない（Round 5 Why 1に戻る）
```

**本質**: 最初のテストを書く主体が未定義。AIがAIのテストを書く場合、テスト品質の保証者がいない。

**現時点での影響**: CIそのものが未存在のため未発生。実装着手時に最初に直面する壁。

---

## 優先度判定（このセッションでの結論）

| 穴 | 今対処すべきか |
|---|---|
| ③ マルチユーザーコンフリクト | ❌ OSS化後に検討 |
| ④ コールドスタート | ❌ CI実装着手時に検討 |

→ **現フェーズでの実装優先事項から除外。ホワイトペーパーに課題として明記する。**
