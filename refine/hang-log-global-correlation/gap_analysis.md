# Gap Analysis（穴の点検）: Round 1-6 の残存課題

**日時**: 2026-02-24T11:29:00+09:00
**位置づけ**: Round 6の `Conclude` 判定後、アーキテクチャの穴を全点検したラウンド外レビュー

---

## 残存する穴（深刻度順）

### 🔴 穴①: Core-Bデータがサーバーに届かない（最大の未解決）

brain_log（Core-B）に記録された実践ハングが、ユーザーの手動判断なしにサーバーサイドCIへ届かない。「全セッションから学ぶ」ループの入力源が手動依存になっており、自律ループが成立しない。

**ユーザーの解答案**: brain_logを "Coreが読むべきMD形式" で定義する。フォーマットを統一することで、昇格判断が人間の意思決定ではなくファイルコピー（rsync）に変わる。

### 🟠 穴②: evolve.jsのコンテキスト消失

evolve.jsはローカルセッション文脈（何をしたか・何がハングしたか）を参照して改善提案を生成する。サーバーサイドに移すとその文脈が失われ、改善提案の品質が保証できない。

**未解決**: brain_logをCore読み取り可能形式にすれば②も部分的に解消される（文脈がサーバーに届くため）。ただし "なぜその操作をしたか" という意図情報は依然ローカルにしかない。

### 🟡 穴③: マルチユーザーコンフリクト

複数ユーザーが矛盾する改善をpushした場合（timeout=10s vs timeout=60s）の仲裁ロジックが未定義。CIテストで解決されない値の競合は手動マージになる。

### 🟡 穴④: コールドスタート問題

最初のCI用テストを誰が書くかが未定義。`chaos_monkey.js` が孤立しており、テストスイートとして統合されていない。

### 🟢 穴⑤: バージョンスキュー

ローカルごとにpullタイミングが異なり、異なるバージョンのCoreへの改善提案が混在するリスク。checkin.mdのSLOW ZONEでgit pullは実行されているが強制ではない。

---

## ユーザーの解答による穴①の解消ロジック

```
[従来の流れ]
brain_log（非構造化・Core-B）
  → ユーザーが手動でincidents.mdに転記（人間依存）
  → git push → サーバー学習

[新しい流れ]
brain_log（Core読み取り可能MD形式で統一）
  → checkout.md が自動rsync/append → antigravity-private
  → setup.sh経由でCore-Aが参照
  → サーバーサイドCIが自動学習
```

フォーマットの統一が「昇格トリガー」を不要にする。これは穴①の構造的解消。

---

## 次の未解決命題

1. brain_logの "Coreが読むべきMD形式" をどう定義するか
2. 穴③（マルチユーザーコンフリクト）の仲裁ロジック
3. テストの初期スイートを誰がどう作るか（コールドスタート）
