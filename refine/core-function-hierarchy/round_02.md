# Round 2: 問いドリブンの内部構造化と「AIの逡巡」の防止

**日時**: 2026-02-25T12:50:00+09:00
**前ラウンドからの焦点**: 上流の戦略層において、ユーザーの手を煩わせず、かつ無限ループに陥らない「構造化されたAI内部の『問いドリブン』メカニズム」の具体的な設計。

---

### 🔄 Round 2: THINK Gate の再定義と『非同期ディベート』

**🏛️ Architect**:
上流プロセス（`/whitepaper`, `/think`, `/new-feature (Phase 0)`）において「問いドリブン」を実装するための具体案を提案します。
現状の `THINK Gate`（特にN: Negotiate）は、実行時（Synchronous）にAIが内部でディベートを行う仕様ですが、これこそが遅滞（止まること）の原因です。
そこで、**「Prompt-to-Debate（実行前ディベート展開）」**という概念を導入します。
ユーザーからの命令（Prompt）を受け取った際、AIは即座にコードや計画を書き始めるのではなく、**まず「3つの対立仮説（問い）」を生成し、それをコンテキストに固定**します。そして、その対立仮説を潰していく過程そのものを「計画（Plan）」として出力するのです。つまり、AIが内部でグルグル悩むのではなく、「こう悩んだ結果、この結論に至った」という**思考の軌跡を成果物（Artifact）フォーマットに強制変換**させる構造です。

**🧐 Philosopher**:
「思考の軌跡を成果物化する」。これは非常に本質的です。
「問い」とは、頭の中で繰り返すものではなく、外に出して他者（あるいは自分自身）とぶつけるためのものです。
MR-03（迷ったら構造を理解するまで掘れ）における「掘る」行為を、`_context.md` や `DECISIONS.md` のようなファイルへの物理的な書き出し（H: First Principlesの5-Why等）に直結させる。ファイルに書き出しさえすれば、無限ループは防げます（ファイル長やトークンで上限が物理的に規定されるため）。つまり「問いドリブン」を「ドキュメント・ドリブン」に変換するということです。

**🤔 Skeptic**:
しかし、ユーザーが単に「このボタンの色を赤にして」と言っただけの（Smallタスクの）場合、その都度「なぜ赤なのか？青ではダメなのか？」という対立仮説を書き出していては、UXとして最悪です（MR-08違反）。
「すべての要望を戦略層への入力と見なし、問いドリブンを起動する」のは明らかにオーバースペックです。どこで線を引くのですか？

**😈 Devil's Advocate**:
線を引く必要などない。ユーザーのリクエスト文字列長や関連ファイル数（Fuzzy Matchの結果）だけで機械的に分岐させればいい。変更ファイルが2個以下なら「ボタンの色変更」レベル（命令ドリブン直行）。3個以上、あるいは特定のキーワード（"新機能", "連携", "アーキテクチャ"）が含まれていたら強制的にPhilosopherの言う「問い出しドキュメント生成（戦略層）」へルーティングする。
「人間が『重要だ』と言ったから問いを立てる」のではなく、「システム影響度が大きいから、システムが勝手に防衛本能として問いを立てる（防御的ディベート）」ようにするべきだ。

**🏛️ Architect**:
Devil's Advocateの意見を取り入れ、既存の「タスクサイズ自動判定（Small/Medium/Large）」と連携させましょう。
現在 `WORKFLOW_CONTRACTS.md` の **Core Engagement Matrix** には、Largeタスクの計画フェーズで `H + T + N(deep) + I` が強制されるとあります。
この `N(deep)` の中身を再定義し、「AI内部での非同期なディベート」ではなく、「思考プロセスの物理的ファイル出力（`docs/THOUGHT_PROCESS.md` や各タスクの `task.md` 内での仮説検証セクションとしての明記）」へと切り替える。
これにより、「問いドリブン」は「ファイル生成プロセス」として扱われ、進捗が可視化されるため「ハングしている（迷っている）」のか「思考している」のかがユーザーからも、次のエージェントからも明確に区別できます。

---

### 🧭 Moderator Review

| 項目 | 内容 |
|------|------|
| 明確になったこと | 問いドリブンの無限ループを防ぐため、内省的思考を「ドキュメント出力（対立仮説のファイル化）」という物理的プロセスに切り替えること。また、その発動条件をユーザーの意図ではなく、影響度（タスクサイズ: Largeなど）によって機械的に決定すること。 |
| まだ残る懸念・論点 | 「対立仮説のファイル化」が具体的にどのワークフローの、どのタイミングで、どのようなフォーマットで出力され、それが次フェーズ（実装）の命令としてどう機能するのか。機能ヒエラルキー全体との接合点が不明確。 |
| 次ラウンドの焦点 | 提案されたアーキテクチャを全体の機能ヒエラルキー（Workflow Router / Contracts）に統合し、「問いドリブン層」から「命令ドリブン層（実行）」へ安全にコンテキストを引き渡す具体的なプロトコルの定義。 |
| **判定** | `Continue` |
| **判定根拠（MRチェック）** | MR-01に基づき、機械的なトリガー（ファイル数等）は適切だが、MR-03の観点から「システム全体の構造としてどう連動するか」が未定義なため、Concludeには至らない。全体への統合設計（Deep Dive）が必要。 |
