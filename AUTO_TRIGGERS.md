# Auto Triggers

> AIがユーザー発言・状況に応じて自律的にワークフローを提案・実行するルール。
> 詳細なルーティングは `.agent/workflows/WORKFLOW_ROUTER.md` を参照。

## 発言トリガー

| パターン | アクション |
|---------|-----------|
| 「おはよう」「始めよう」/ 6h+空白 | `/checkin` |
| 「終わり」「また明日」 | `/checkout` |
| 「バグ」「エラー」 | `/bug-fix` |
| 「新機能」「追加して」 | `/spec` → `/new-feature` |
| 「整理」「リファクタ」 | `/refactor` |
| 「デプロイ」「公開」 | `/ship` |
| 「本当に？」「検証して」 | `/galileo` |
| 「つづけて」「go」「進めて」 | 次ステップを自律実行 |

## AI自律トリガー

| 条件 | アクション |
|------|-----------|
| 実装完了 | `/verify` 自動 |
| 変更6ファイル以上 | `/verify --deep` |
| verify通過+staging存在 | `/ship staging` 提案 |
| 新APIエンドポイント | `/error-sweep` Contract重点チェック |
| Git push/pull 失敗 | `env_healthcheck.sh` 実行 → 自動修復 |
| 「タイムアウト」「接続できない」 | 環境ヘルスチェック実行 |

## 自律継続ルール

- `notify_user` はブロッキング判断が必要な場合のみ
- 「何をやりましょう？」は禁止。自分で判断して実行
- 全タスク完了時のみ最終レポートを送信

## 🚨 Zero Tolerance Policy

**あらゆるエラー・異常・失敗をスルーしない。**

| 遭遇した状況 | 即時アクション |
|-------------|--------------|
| コマンド失敗・エラー出力 | 原因調査 → 修正 → 再実行 |
| 環境問題（Git, Node, ディスク等） | `env_healthcheck.sh` → 自動修復 |
| ビルドエラー・型エラー | 即座に修正（次タスクに進まない） |
| 警告・deprecation notice | 記録 + 可能なら修正 |
| タイムアウト・接続失敗 | 設定確認 → 修正 → リトライ |

> 「たぶん大丈夫」「次のセッションで」は禁止。今この場で対処する。
