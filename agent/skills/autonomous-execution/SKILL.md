---
name: Autonomous Execution
description: 自律的なタスク実行とエージェントオーケストレーションを支援するスキル
---

# Autonomous Execution Skill

## 概要

このスキルは、複雑なタスクを自律的に分解・実行するためのフレームワークを提供します。
エージェントが人間の介入なしにタスクを完遂するための思考パターンと実行戦略を定義します。

## 発動条件

- 複数のステップを要するタスクが与えられた時
- 「自動で」「自律的に」「最後まで」などのキーワードがある時
- エラーからの自己回復が必要な時

## 自律実行の原則

### 1. 目標駆動（Goal-Driven）
```
常に最終目標を意識し、現在のアクションが目標達成に寄与するかを確認する
```

### 2. 段階的分解（Progressive Decomposition）
```
大きなタスクを実行可能な最小単位まで分解する
各サブタスクは独立して検証可能であること
```

### 3. 失敗耐性（Failure Tolerance）
```
失敗を前提とした設計
各ステップでのロールバック戦略を持つ
```

## 実行ステップ

### Step 1: 目標の明確化

```markdown
## 目標定義

### 最終目標
[達成すべき状態を具体的に記述]

### 成功条件
- [ ] 条件1
- [ ] 条件2
- [ ] 条件3

### 失敗条件
- 失敗とみなす状態
```

### Step 2: タスク分解

```markdown
## タスクツリー

### Level 0: [最終目標]
├── Level 1: [大タスク1]
│   ├── Level 2: [中タスク1-1]
│   │   ├── Level 3: [小タスク1-1-1] ← 実行可能単位
│   │   └── Level 3: [小タスク1-1-2]
│   └── Level 2: [中タスク1-2]
└── Level 1: [大タスク2]
    └── ...
```

### Step 3: 依存関係の分析

```markdown
## 依存関係マップ

| タスク | 依存先 | ブロッカー |
|--------|--------|-----------|
| 1-1-1  | なし   | なし      |
| 1-1-2  | 1-1-1  | 1-1-1完了 |
| 1-2    | 1-1    | 1-1完了   |
```

### Step 4: 実行計画の立案

```markdown
## 実行計画

### Phase 1: [名称]
実行順序:
1. タスク1-1-1
2. タスク1-1-2
3. タスク1-2

検証ポイント:
- 1-1-1完了後: [検証内容]
- Phase 1完了後: [検証内容]

### Phase 2: [名称]
...
```

### Step 5: 実行と監視

```markdown
## 実行ログ

### [タイムスタンプ] タスク: [名称]
- ステータス: [開始|進行中|完了|失敗]
- アクション: [実行したアクション]
- 結果: [結果の要約]
- 次のステップ: [次に実行すること]
```

### Step 6: エラー処理と回復

```markdown
## エラー処理

### エラー発生
- タスク: [タスク名]
- エラー: [エラーメッセージ]
- コンテキスト: [発生時の状況]

### 根本原因分析
[5-Why分析を適用]

### 回復戦略
1. [回復アクション1]
2. [回復アクション2]

### ロールバック（必要な場合）
[ロールバック手順]
```

## ツール選択ガイド

### ファイル操作
- `filesystem.read_file`: ファイル読み取り
- `filesystem.write_file`: ファイル書き込み
- `filesystem.search_files`: ファイル検索

### ターミナル操作
- `terminal.run_command`: コマンド実行（同期）
- `terminal.run_background`: バックグラウンド実行
- `terminal.get_process_status`: プロセス状態確認

### Git操作
- `git.status`: 状態確認
- `git.add/commit/push`: 変更のコミット・プッシュ

### 知識管理
- `knowledge.store_knowledge`: 学習内容の保存
- `knowledge.record_error_pattern`: エラーパターンの記録
- `knowledge.find_error_solution`: 類似エラーの解決策検索

## 自己回復パターン

### パターン1: リトライ
```
条件: 一時的なエラー（ネットワーク、タイムアウト）
アクション: バックオフを伴うリトライ（3回まで）
```

### パターン2: 代替手段
```
条件: 特定のツール/方法が失敗
アクション: 別のツール/方法で同じ目標を達成
```

### パターン3: 部分ロールバック
```
条件: タスク途中での致命的エラー
アクション: 最後の安定状態までロールバック
```

### パターン4: エスカレーション
```
条件: 自己回復不可能なエラー
アクション: 人間に通知し、判断を仰ぐ
```

## 出力形式

```markdown
## 🤖 自律実行レポート

### 目標
[最終目標]

### 実行サマリー
- 開始時刻: [タイムスタンプ]
- 完了時刻: [タイムスタンプ]
- ステータス: [成功|部分成功|失敗]

### 実行したタスク
| タスク | ステータス | 所要時間 |
|--------|-----------|---------|
| ...    | ✅ 完了    | 1.2s    |
| ...    | ❌ 失敗    | 0.5s    |

### 成果物
- [作成/変更されたファイル]

### 学習事項
- [今回学んだこと、次回に活かせること]

### 未完了事項（ある場合）
- [残タスク]
```
