# コンテキスト圧縮ルール (Compaction)

長時間セッションでコンテキストが圧縮される際、以下の情報を必ず保持する:

## 必須保持項目
1. **変更ファイル一覧**: 編集したすべてのファイルパス
2. **テストコマンド**: 実行したテストコマンドと結果
3. **エラーメッセージ**: 発生したエラーとその解決策
4. **現在のタスク状態**: task.mdの進捗状況
5. **重要な決定事項**: アーキテクチャ決定、トレードオフ選択

## 圧縮時の優先順位
1. 直近の作業コンテキスト（最優先）
2. ユーザーの明示的な要求
3. 失敗したアプローチとその理由
4. バックグラウンド情報（最低優先）

## 使用例
```
/compact Focus on the API changes and test results
```
