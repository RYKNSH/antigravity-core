# Antigravity System Architecture & Design

## 1. Vision & Philosophy
**ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ€è€ƒé€Ÿåº¦ã§å‹•ãã€è‡ªå·±å­¦ç¿’ãƒ»è‡ªå·±æ”¹å–„ã—ç¶šã‘ã‚‹AIãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã€**

Antigravity ã¯ã€First Principlesï¼ˆç¬¬ä¸€åŸç†æ€è€ƒï¼‰ã«åŸºã¥ãã€SSDã‚’æ´»ç”¨ã—ãŸãƒãƒ¼ã‚¿ãƒ–ãƒ«é‹ç”¨ã¨è‡ªå¾‹ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®æˆé•·ãƒ«ãƒ¼ãƒ—ã‚’çµ±åˆã—ãŸã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

### 1.1 æ ¸å¿ƒæ¦‚å¿µï¼šçŸ¥èƒ½ã¨ãƒ‡ãƒ¼ã‚¿ã®åˆ†é›¢ (Intelligence-Data Decoupling)
çŸ¥èƒ½ï¼ˆæ€è€ƒãƒ—ãƒ­ã‚»ã‚¹ï¼‰ã¨ãƒ‡ãƒ¼ã‚¿ï¼ˆä½œæ¥­å¯¾è±¡ï¼‰ã‚’ç‰©ç†çš„ãƒ»è«–ç†çš„ã«åˆ†é›¢ã—ã€çŸ¥èƒ½ã®ãƒãƒ¼ã‚¿ãƒ“ãƒªãƒ†ã‚£ã¨æ°¸ç¶šçš„ãªæˆé•·ã‚’ç¢ºä¿ã—ã¾ã™ã€‚
- **Intelligence Core (Global/SSD)**: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã€ã‚¹ã‚­ãƒ«ã€è©•ä¾¡åŸºæº–ã€ãƒšãƒ«ã‚½ãƒŠã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ«ãƒ¼ãƒ«ã€‚å…¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è‹±çŸ¥ãŒè“„ç©ã•ã‚Œã‚‹ã€Œã‚°ãƒ­ãƒ¼ãƒãƒ«è„³ã€ã€‚
- **Project Assets (Local/Workspace)**: å„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã€‚

---

## 2. å››å±¤ã®è‡ªå¾‹ãƒ¬ã‚¤ãƒ¤ãƒ¼ (Layered Autonomy)

### L1: THINKING LAYER (æ€è€ƒå±¤)
- **First Principles**: 5-Whyåˆ†æã«ã‚ˆã‚‹æ ¹æœ¬åŸå› ã®ç‰¹å®šã€‚
- **Persona Orchestration**: HR Directorã«ã‚ˆã‚‹ãƒãƒ¼ãƒ è‡ªå‹•ç·¨æˆã¨ã€Multi-Personaï¼ˆArchitect/Skepticç­‰ï¼‰ã«ã‚ˆã‚‹å¤šè§’çš„è­°è«–ã€‚

### L2: EXECUTION LAYER (å®Ÿè¡Œå±¤)
- **1.5-Command System**: `/go` (The Ultimate Meta-Workflow) ã«ã‚ˆã‚‹ã‚»ãƒƒã‚·ãƒ§ãƒ³å…¨ä½“ã®ä¸€æ°—é€šè²«åˆ¶å¾¡ã€‚
- **Autonomous Big Three**: `/work`, `/verify`, `/ship` ã®è‡ªå¾‹é€£é–å®Ÿè¡Œã€‚
- **Skills**: Workspace Audit, MCPç®¡ç†, åº§æ¨™æ­£è¦åŒ–ç­‰ã®é«˜åº¦ãªè‡ªå‹•åŒ–ã€‚

### L3: KNOWLEDGE LAYER (çŸ¥è­˜å±¤)
- **Knowledge Curation**: é®®åº¦ç®¡ç†ã•ã‚ŒãŸ Knowledge Items (KIs)ã€‚
- **Dynamic Resource Discovery**: `list_resources.sh` ã«ã‚ˆã‚‹è³‡æºã®è‡ªå¾‹æ¤œå‡ºã€‚

### L4: FEEDBACK LOOP (æˆé•·ãƒ¬ã‚¤ãƒ¤ãƒ¼)
- **/fbl**: 120% å“è³ªã®è‡ªå¾‹é”æˆã€‚
- **/evolve**: ä½¿ç”¨ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ãè‡ªå·±é€²åŒ–ã€‚
- **Usage Tracking**: ä½¿ç”¨é »åº¦ã¨é®®åº¦ã®å¯è¦–åŒ– (`USAGE_TRACKER.md`)ã€‚

---

## 3. Consolidated Workflow Architecture (The 1.5-Command Design)

èªçŸ¥è² è·ã‚’æœ€å°åŒ–ã—ã€é–‹ç™ºè€…ãŒã€Œä½•ã‚’é”æˆã—ãŸã„ã‹ã€ã¨ã„ã†æœ¬è³ªçš„æ€è€ƒã«é›†ä¸­ã§ãã‚‹ã‚ˆã†ã€ã‚³ãƒãƒ³ãƒ‰ä½“ç³»ã‚’ 1.5å€‹ã«é›†ç´„ã—ã¾ã—ãŸã€‚

### 3.1 Cognitive Load Principle (èªçŸ¥è² è·ã®åŸå‰‡)
- **å†…åœ¨çš„è² è· (Intrinsic)**: ã‚¿ã‚¹ã‚¯ã®è¤‡é›‘ã•ã€‚AI ã¨ã®å¯¾è©±ã§æ®‹ã™ã¹ãã€Œä»Šã©ã®ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆå®Ÿè£…ã‹æ¤œè¨¼ã‹ï¼‰ã«ã„ã‚‹ã‹ã€ã¨ã„ã†é–‹ç™ºè€…ã®æ„è­˜ã€‚ã“ã‚Œã‚’å¥ªã‚ãªã„ã‚ˆã†ã€AI ã¯å‹æ‰‹ã«é€²ã‚ãšã€Œææ¡ˆã€ã‚’è¡Œã†ã€‚
- **å¤–åœ¨çš„è² è· (Extrinsic)**: ã‚³ãƒãƒ³ãƒ‰ã®æš—è¨˜ã€ç’°å¢ƒã®æº–å‚™ã€‚å¾¹åº•çš„ã«æ’é™¤ã—ã€AI ãŒè£å´ã§è‡ªå‹•åŒ–ã€ã‚ã‚‹ã„ã¯é©åˆ‡ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ææ¡ˆã™ã‚‹ã€‚

**æ ¸å¿ƒã®æ´å¯Ÿ**: ã€Œã‚³ãƒãƒ³ãƒ‰ã‚’æ¸›ã‚‰ã™ã“ã¨ã€ãã®ã‚‚ã®ã‚ˆã‚Šã€ã€Œé©æ™‚é©åˆ‡ãªã‚³ãƒãƒ³ãƒ‰ã®ææ¡ˆãŒ AI ã‹ã‚‰æ¥ã‚‹ã“ã¨ã€ãŒèªçŸ¥è² è·ã®æœ€å°åŒ–ã¨å“è³ªã®æœ€å¤§åŒ–ã«ç›´çµã™ã‚‹ã€‚

### 3.2 `/go` (The Universal 1.5 Command)
- **é–‹å§‹ (1ã‚³ãƒãƒ³ãƒ‰)**: `/go "ã‚¿ã‚¹ã‚¯"`ã€‚ã‚»ãƒƒã‚·ãƒ§ãƒ³é–‹å§‹ã‹ã‚‰ç’°å¢ƒæº–å‚™ã€å®Ÿè£…ã€æ¤œè¨¼ã¾ã§ã‚’è‡ªå¾‹çš„ã«é€£é–ã€‚
- **çµ‚äº† (0.5ã‚³ãƒãƒ³ãƒ‰)**: è‡ªç„¶è¨€èªãƒˆãƒªã‚¬ãƒ¼ï¼ˆã€Œçµ‚ã‚ã‚Šã€ã€Œã¾ãŸæ˜æ—¥ã€ï¼‰ã€‚AI ãŒæ„å›³ã‚’æ±²ã¿å–ã‚Šã€ãƒªãƒªãƒ¼ã‚¹ãƒ»åŒæœŸãƒ»è‡ªå·±è©•ä¾¡ã‚’è‡ªå‹•ææ¡ˆã€‚

### 3.3 The "Big Three" Core (å†…éƒ¨é€£é–)
`/go` å†…éƒ¨ã§å‹•ä½œã™ã‚‹è‡ªå¾‹çš„ãªå®Ÿè¡Œã‚¨ãƒ³ã‚¸ãƒ³ï¼š
- **`/work`**: è‡ªç„¶è¨€èªã‹ã‚‰ Intent ã‚’åˆ†æã—ã€å®Ÿè£…ã‚µãƒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’é¸æŠã€‚
- **`/verify`**: ãƒ†ã‚¹ãƒˆã€Lintã€ãŠã‚ˆã³ãƒšãƒ«ã‚½ãƒŠã«ã‚ˆã‚‹ã€Œç›¸äº’åè«–ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€ã‚’ä¸€æ‹¬å®Ÿè¡Œã€‚
- **`/ship`**: å®‰å…¨ãªãƒ“ãƒ«ãƒ‰ã€DBãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é©ç”¨ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’å®Ÿæ–½ã€‚

---

## 4. Security & Persistence

### 4.1 Secrets Management (Host-SSD Separation)
æ©Ÿå¯†æƒ…å ±ã¯ãƒ›ã‚¹ãƒˆ (`~/.secrets/`) ã«ã€æ­£æœ¬ãƒ‡ãƒ¼ã‚¿ã¯ SSD ã«åˆ†é›¢ã€‚SSD ç´›å¤±æ™‚ã‚‚æ©Ÿå¯†æ¼æ´©ã‚’é˜²ãã€å¾©æ—§ã‚’å®¹æ˜“ã«ã—ã¾ã™ã€‚

### 4.2 Cascading .env Discovery
å„ªå…ˆé †ä½ï¼šHost-Secure > SSD-Portable > Host-Temporaryã€‚å†èµ·å‹•å¾Œã® API ã‚­ãƒ¼æ¶ˆå¤±ï¼ˆ**2-Second Archive Bug**ï¼‰ã‚’æ ¹æœ¬è§£æ±ºã€‚

---

## 5. Dynamic Infrastructure & Monitoring

- **Dynamic Discovery**: `list_resources.sh` ã‚’ä½¿ç”¨ã—ã€ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ãªã—ã§ã‚°ãƒ­ãƒ¼ãƒãƒ«è³‡æºã‚’ `GEMINI.md` ã«åæ˜ ã€‚
- **Headless Validation**: `validate_pr.sh` ã«ã‚ˆã‚‹æ©Ÿæ¢°çš„ãªå“è³ªã‚²ãƒ¼ãƒˆï¼ˆLint/Type/Test/Securityï¼‰ã€‚
- **Interaction Resilience**: `/dev/null` ã¸ã®ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã‚„ `nohup` ã«ã‚ˆã‚‹ã€SSD ç‰¹æœ‰ã® TTY ãƒãƒ³ã‚°ã‚¢ãƒƒãƒ—é˜²æ­¢ï¼ˆPattern 178ï¼‰ã€‚

---

## 6. Audit Result: 120-Point Metric (Historical Milestone)

2026-02-03 å®Ÿæ–½ã® `/debate deep` ç›£æŸ»çµæœã€‚
- **ç·åˆã‚¹ã‚³ã‚¢: 120.2 / 100** ğŸ‰
- **é«˜è©•ä¾¡é …ç›®**: æ§‹é€ ã®å®Œæˆåº¦ (98), å†ç¾æ€§ (98), è‡ªå¾‹æ€§ (95)ã€‚
- **çµè«–**: è‡ªå¾‹é€²åŒ–ã‚¨ãƒ³ã‚¸ãƒ³ (`/evolve`) ã®å°å…¥ã«ã‚ˆã‚Šã€å˜ãªã‚‹è¨ˆç”»ã‚’è¶…ãˆãŸã€Œè‡ªèµ°ã™ã‚‹çŸ¥èƒ½ã€ã¸ã¨æ˜‡è¯ã€‚

---
*Verified: 2026-02-06. Consolidated Architecture & Design. Integrated Big-Three Workflow.*
